<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/styles.2543ff947a193d7f33b1.css">@import url(https://fonts.googleapis.com/css?family=Inconsolata&display=swap);@import url(https://fonts.googleapis.com/css?family=Source+Sans+Pro&display=swap);</style><meta name="generator" content="Gatsby 2.24.85"/><title data-rh="true">Impression | Vision Cortex</title><meta data-rh="true" name="description" content="Semantic Computer Vision"/><meta data-rh="true" property="og:title" content="Impression"/><meta data-rh="true" property="og:description" content="Semantic Computer Vision"/><meta data-rh="true" property="og:type" content="website"/><meta data-rh="true" name="twitter:card" content="summary"/><meta data-rh="true" name="twitter:title" content="Impression"/><meta data-rh="true" name="twitter:description" content="Semantic Computer Vision"/><link as="script" rel="preload" href="/webpack-runtime-ed686ae4d7040c59007b.js"/><link as="script" rel="preload" href="/styles-83801f3b4dd3459a4027.js"/><link as="script" rel="preload" href="/framework-34df0b3f72b72d7c6b1a.js"/><link as="script" rel="preload" href="/app-c7673cccdcda4c07b220.js"/><link as="script" rel="preload" href="/798c9f31-55401554f16c5ec017b9.js"/><link as="script" rel="preload" href="/c5b55e2f8b53e5f5ce74c9de3c70a46d4d065a47-cc82b785e04af3879186.js"/><link as="script" rel="preload" href="/component---src-impression-mdx-7396b5c988c84a072add.js"/><link as="fetch" rel="preload" href="/page-data/impression-docs/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/sq/d/1635659820.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><style data-emotion-css="1ouyflx">.css-1ouyflx{font-family:'Source Sans Pro',sans-serif;font-size:20px;font-weight:400;line-height:1.5;color:var(--theme-ui-colors-text,#2D3747);background-color:var(--theme-ui-colors-background,#FFFFFF);}</style><div class="css-1ouyflx"><style data-emotion-css="jrjj6h">.css-jrjj6h > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="1ubpee3">.css-1ubpee3{min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-1ubpee3 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><style data-emotion-css="hbri28">.css-hbri28{box-sizing:border-box;min-width:0;min-height:100vh;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;}.css-hbri28 > div{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;}</style><div data-testid="layout" class="css-hbri28"><style data-emotion-css="1xva7m0">body{margin:0;padding:0;}.icon-link{display:none;}.with-overlay{overflow:hidden;}</style><style data-emotion-css="zf0iqh">.css-zf0iqh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="1tjxv7i">.css-1tjxv7i{-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><style data-emotion-css="238csb">.css-238csb{box-sizing:border-box;min-width:0;-webkit-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;min-height:100vh;}</style><main class="css-238csb"><style data-emotion-css="18wmtq">.css-18wmtq{background-color:var(--theme-ui-colors-header-bg,#F5F6F7);position:relative;z-index:1;border-bottom:1px solid var(--theme-ui-colors-border,#CED4DE);}</style><div data-testid="header" class="css-18wmtq"><style data-emotion-css="zankq9">.css-zankq9{display:none;position:absolute;top:calc(100% + 15px);left:30px;}@media screen and (max-width:57.5em){.css-zankq9{display:block;}}</style><style data-emotion-css="1s0wdqz">.css-1s0wdqz{box-sizing:border-box;min-width:0;display:none;position:absolute;top:calc(100% + 15px);left:30px;}@media screen and (max-width:57.5em){.css-1s0wdqz{display:block;}}</style><div class="css-1s0wdqz"><style data-emotion-css="4019lz">.css-4019lz{padding:0;outline:none;background:transparent;border:none;color:var(--theme-ui-colors-header-text,#2D3747);opacity:0.5;cursor:pointer;}.css-4019lz:hover{cursor:pointer;}</style><button class="css-4019lz"><svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></button></div><style data-emotion-css="z6jak6">.css-z6jak6{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding-left:32px;padding-right:32px;position:relative;height:80px;}</style><div class="css-z6jak6"><style data-emotion-css="xenp3v">.css-xenp3v{-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><style data-emotion-css="1abzlu">.css-1abzlu{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><style data-emotion-css="ug0363">.css-ug0363{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-letter-spacing:-0.02em;-moz-letter-spacing:-0.02em;-ms-letter-spacing:-0.02em;letter-spacing:-0.02em;font-weight:600;font-size:24px;}</style><div data-testid="logo" class="css-ug0363"><style data-emotion-css="gyijir">.css-gyijir{font-weight:600;color:var(--theme-ui-colors-header-text,#2D3747);-webkit-text-decoration:none;text-decoration:none;}.css-gyijir:hover{color:var(--theme-ui-colors-primary,#0B5FFF);}</style><a style="height:48px" class="css-gyijir" href="/"><img style="height:100%" src="/public/visioncortex-logo.svg"/></a></div><style data-emotion-css="k008qs">.css-k008qs{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><style data-emotion-css="80zs6q">.css-80zs6q{box-sizing:border-box;min-width:0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}</style><div class="css-80zs6q"><style data-emotion-css="1is33jg">.css-1is33jg{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-ms-flex-pack:center;justify-content:center;outline:none;padding:12px;border:none;border-radius:9999px;background-color:var(--theme-ui-colors-header-button-bg,#0B5FFF);color:var(--theme-ui-colors-header-button-color,#FFFFFF);font-size:12px;font-weight:600;cursor:pointer;}</style><button aria-label="Switch to light mode" class="css-1is33jg"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"></circle><line x1="12" y1="1" x2="12" y2="3"></line><line x1="12" y1="21" x2="12" y2="23"></line><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line><line x1="1" y1="12" x2="3" y2="12"></line><line x1="21" y1="12" x2="23" y2="12"></line><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line></svg></button></div></div></div><style data-emotion-css="1nfi0ai">.css-1nfi0ai{padding-top:0;padding-bottom:0;-webkit-flex:1;-ms-flex:1;flex:1;display:grid;grid-template-columns:250px minmax(0,1fr);min-height:100vh;}@media screen and (max-width:57.5em){.css-1nfi0ai{display:block;}}</style><div class="css-1nfi0ai"><style data-emotion-css="1tn7q1x">.css-1tn7q1x{z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><style data-emotion-css="h4snl3">.css-h4snl3{box-sizing:border-box;min-width:0;z-index:999;position:fixed;top:81px;right:0;bottom:0;left:0;background:rgba(0,0,0,0.6);-webkit-transition:all .2s ease-out;transition:all .2s ease-out;visibility:hidden;opacity:0;}</style><div class="css-h4snl3"></div><style data-emotion-css="1ethd5x">.css-1ethd5x{padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#FFFFFF);}@media screen and (max-width:57.5em){.css-1ethd5x{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><style data-emotion-css="1li9yso">.css-1li9yso{box-sizing:border-box;min-width:0;padding-top:32px;padding-bottom:32px;padding-left:32px;padding-right:32px;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;position:-webkit-sticky;position:sticky;top:0;z-index:1;min-width:0;max-height:100vh;border-right:1px solid var(--theme-ui-colors-border,#CED4DE);overflow:auto;-webkit-overflow-scrolling:touch;background-color:var(--theme-ui-colors-sidebar-bg,#FFFFFF);}@media screen and (max-width:57.5em){.css-1li9yso{z-index:9999;display:block;position:fixed;top:81px;left:0;bottom:0;width:256px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);-webkit-transition:-webkit-transform .2s ease-out;-webkit-transition:transform .2s ease-out;transition:transform .2s ease-out;-webkit-transform:translateX(-100%);-ms-transform:translateX(-100%);transform:translateX(-100%);}}</style><div data-testid="sidebar" class="css-1li9yso"><style data-emotion-css="lcm9hh">.css-lcm9hh{margin-bottom:16px;display:-webkit-inline-box;display:-webkit-inline-flex;display:-ms-inline-flexbox;display:inline-flex;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}</style><div data-testid="nav-search" class="css-lcm9hh"><style data-emotion-css="1mo6uhh">.css-1mo6uhh{color:var(--theme-ui-colors-border,#CED4DE);margin-right:8px;}</style><svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="css-1mo6uhh"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg><style data-emotion-css="1bbueiu">.css-1bbueiu{outline:none;background:none;border:none;color:var(--theme-ui-colors-text,#2D3747);font-size:14px;}</style><input placeholder="Type to search..." value="" class="css-1bbueiu"/></div><style data-emotion-css="1rqvyud">.css-1rqvyud{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-navGroup,#2D3747);-webkit-text-decoration:none;text-decoration:none;font-size:16px;}.css-1rqvyud.active{color:var(--theme-ui-colors-sidebar-navLinkActive,#0B5FFF);}</style><a class="css-1rqvyud" href="/">Vision Cortex</a><a class="css-1rqvyud" href="/symcode-docs">SymCode</a><a aria-current="page" class="css-1rqvyud active" href="/impression-docs">Impression</a><style data-emotion-css="1ooej63">.css-1ooej63{margin-top:8px;margin-bottom:8px;display:block;color:var(--theme-ui-colors-sidebar-tocLink,#67788a);-webkit-text-decoration:none;text-decoration:none;font-size:14px;margin-left:16px;position:relative;}.css-1ooej63.active{color:var(--theme-ui-colors-sidebar-tocLinkActive,#1D2330);}.css-1ooej63.active::before{content:"";position:absolute;display:block;top:2px;left:-8px;height:1rem;background-color:var(--theme-ui-colors-primary,#0B5FFF);-webkit-transition:width 200ms ease 0s;transition:width 200ms ease 0s;width:2px;border-radius:1px;}</style><a class=" css-1ooej63" href="/impression-docs#premise">Premise</a><a class=" css-1ooej63" href="/impression-docs#the-clustering-algorithm">The Clustering Algorithm</a><a class=" css-1ooej63" href="/impression-docs#simplification">Simplification</a><a class=" css-1ooej63" href="/impression-docs#segmentation">Segmentation</a><a class=" css-1ooej63" href="/impression-docs#the-implementation">The Implementation</a><a class=" css-1ooej63" href="/impression-docs#impressionism">Impressionism</a><a class="css-1rqvyud" href="/vtracer-docs">VTracer</a></div><script async="" type="text/javascript">
      (function(c,l,a,r,i,t,y){
          c[a]=c[a]||function(){(c[a].q=c[a].q||[]).push(arguments)};
          t=l.createElement(r);t.async=1;t.src="https://www.clarity.ms/tag/"+i;
          y=l.getElementsByTagName(r)[0];y.parentNode.insertBefore(t,y);
      })(window, document, "clarity", "script", "403biw7tra");
    </script><style data-emotion-css="1w3d2mg">.css-1w3d2mg{background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1w3d2mg{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="kjtkh5">.css-kjtkh5{width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-kjtkh5{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><style data-emotion-css="1307vk3">.css-1307vk3{box-sizing:border-box;min-width:0;width:100%;min-width:0;max-width:1280px;margin-left:auto;margin-right:auto;padding:32px;background-color:var(--theme-ui-colors-background,#FFFFFF);position:relative;max-width:1280px;padding-top:48px;padding-bottom:48px;padding-left:32px;padding-right:32px;padding:32px;}@media screen and (max-width:57.5em){.css-1307vk3{padding-top:48px;padding-bottom:32px;padding-left:32px;padding-right:32px;}}</style><div data-testid="main-container" class="css-1307vk3"><style data-emotion-css="1vci3bl">.css-1vci3bl{padding:0;margin:0;margin-bottom:16px;font-size:48px;font-family:'Source Sans Pro',sans-serif;line-height:1.125;font-weight:700;}</style><h1 id="impression" class="css-1vci3bl">Impression</h1><style data-emotion-css="1ftn47p">.css-1ftn47p{padding:0;margin:0;margin-bottom:16px;}</style><p class="css-1ftn47p">Researcher: <style data-emotion-css="1iv9jyz">.css-1iv9jyz{color:var(--theme-ui-colors-primary,#0B5FFF);-webkit-text-decoration:none;text-decoration:none;}.css-1iv9jyz:hover{color:secondary;-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="//github.com/tyt2y3" class="css-1iv9jyz">Chris Tsang</a> | Published: 2020-12-24</p><style data-emotion-css="2abk98">.css-2abk98{padding:0;margin:0;margin-bottom:16px;border:0;border-bottom:1px solid var(--theme-ui-colors-border,#CED4DE);margin-top:-1px;}</style><hr class="css-2abk98"/><p class="css-1ftn47p">Impression is a family of algorithms for image simplification, segmentation and vectorization. Try the <a href="//www.visioncortex.org/visionmagic/" target="_blank" class="css-1iv9jyz">Demo Web App</a>.</p><iframe src="https://player.vimeo.com/video/491698600" style="width:100%;height:95vh;max-height:75vw" frameBorder="0" allow="autoplay; fullscreen" allowfullscreen=""></iframe><h2 id="premise"><style data-emotion-css="1r0pe6c">.css-1r0pe6c{color:inherit;-webkit-text-decoration:none;text-decoration:none;}.css-1r0pe6c:hover{-webkit-text-decoration:underline;text-decoration:underline;}</style><a href="#premise" class="css-1r0pe6c">Premise</a></h2><p class="css-1ftn47p">The fundamental information result from visual perception is shape. For example, we would describe ‘there is an orange on a basket’ or more conceptually ‘there is a circle above a triangle’.</p><p class="css-1ftn47p">If we regard simplification as a process of information reduction, we could imagine information being taken away from an image shape by shape, starting from the least important shapes. At the same time, we can also simplify each shape in the image to make it ‘less fractal’.</p><p class="css-1ftn47p">By controlling this reduction process, we would be able to control the amount of visual information in an image in a quantitative manner.</p><p class="css-1ftn47p">Under this understanding, segmentation is an extreme degree of simplification, while vectorization is a slight degree of simplification.</p><h2 id="the-clustering-algorithm"><a href="#the-clustering-algorithm" class="css-1r0pe6c">The Clustering Algorithm</a></h2><p class="css-1ftn47p">The <a href="//docs.rs/visioncortex/latest/visioncortex/color_clusters" class="css-1iv9jyz">clustering algorithm</a> is hierarchical in nature and the idea is best described by the following verse:</p><style data-emotion-css="16r6o5s">.css-16r6o5s{padding:0;margin:0;margin-bottom:32px;margin-left:0;margin-right:0;margin-top:32px;padding-top:16px;padding-bottom:16px;padding-left:32px;padding-right:32px;background-color:var(--theme-ui-colors-blockquote-bg,#F5F6F7);border-left:5px solid var(--theme-ui-colors-blockquote-border,#CED4DE);color:var(--theme-ui-colors-blockquote-color,#67788a);font-style:italic;}.css-16r6o5s > p{margin:0;}</style><blockquote class="css-16r6o5s"><p class="css-1ftn47p">On an unclaimed land, there are villages. Villages ally with each other to form tribes. Tribes conquer each other and form Kingdoms. Kingdoms clashes with each other and form empires. Empires breakdown and finally the entire earth becomes one union.</p></blockquote><h3 id="stage-1-clustering"><a href="#stage-1-clustering" class="css-1r0pe6c">Stage 1: clustering</a></h3><p class="css-1ftn47p">Clustering is a process to connect pixels of similar colors into clusters. Each cluster have a unique position and shape. There is well known algorithm to perform clustering and Impression’s implementation is essentially same as Kopelman Algorithm.</p><h3 id="stage-2-hierarchical-clustering"><a href="#stage-2-hierarchical-clustering" class="css-1r0pe6c">Stage 2: hierarchical clustering</a></h3><p class="css-1ftn47p">Hierarchical clustering is a process to build an image tree from the clusters of stage 1. Impression builds a binary tree bottom up. In preparation, clusters are sorted by their size. Starting from the smallest, in each iteration, a cluster is merged into the closest cluster. There are different formulas for ‘close’, but it generally involves comparing the average colors between neighboring clusters.</p><h3 id="stage-3-tree-walking"><a href="#stage-3-tree-walking" class="css-1r0pe6c">Stage 3: tree walking</a></h3><p class="css-1ftn47p">In image vectorization as in <a href="/vtracer" class="css-1iv9jyz">VTracer</a>, we would walk the tree from top to bottom, trace each layer, and stack the vector paths on the output canvas. As if a painter paints on an empty canvas, he would lay down background first and then overlay objects atop, and finally add on details.</p><h2 id="simplification"><a href="#simplification" class="css-1r0pe6c">Simplification</a></h2><p class="css-1ftn47p">In image simplification, there are multiple dimensions of information which can be controlled quantitatively:</p><style data-emotion-css="cvh4i0">.css-cvh4i0{padding:0;margin:0;margin-bottom:16px;list-style-position:outside;list-style-image:none;margin-left:16px;}</style><ol class="css-cvh4i0"><style data-emotion-css="q43a5f">.css-q43a5f{margin-bottom:4px;padding-left:0;}.css-q43a5f ol{margin-top:8px;margin-bottom:8px;margin-left:16px;}.css-q43a5f ul{margin-top:8px;margin-bottom:8px;margin-left:16px;}.css-q43a5f p{margin-bottom:8px;}</style><li class="css-q43a5f">Shape details: proportional to how many points we use to outline each shape</li><li class="css-q43a5f">Fidelity: proportional to how many nodes we retain from the image tree</li><li class="css-q43a5f">Color levels: proportional to how densely we sample the image tree layers</li></ol><h3 id="shape-simplification"><a href="#shape-simplification" class="css-1r0pe6c">Shape Simplification</a></h3><p class="css-1ftn47p">Impression currently chose the Ramer-Douglas-Peucker algorithm for shape simplification. While the original algorithm is designed for open curves, Impression adapted it for closed shapes. We cut a closed path into 4 sections, simplify each, and stitch them back together after path simplification. We choose the north most, east most, south most and west most points to cut a given path. Effectively the simplest possible shape is a diamond with four points. However in practice, it is not desirable to have shapes with sharp corners, and so we would smooth them with a 4-point scheme as described in <a href="/vtracer-docs" class="css-1iv9jyz">VTracer</a>.</p><div><img alt="Left to right: gradual reduction of shape details" style="display:block;margin-left:auto;margin-right:auto;max-width:100%" src="/public/visionmagic/simplification-shape-details.png"/><h4 style="text-align:center">Left to right: gradual reduction of shape details</h4></div><h3 id="fidelity"><a href="#fidelity" class="css-1r0pe6c">Fidelity</a></h3><p class="css-1ftn47p">It has to be understood that statistically there are exponentially more nodes as we decrease the cluster size. There is one root node known as the image background, but as many leaf nodes as there are number of pixels. As such, fidelity is actually a cutoff which we discard all clusters smaller than a desired size. When this cutoff threshold is low, we are removing salt and pepper noise but in a true color sense. As we increase this cutoff, structures are being discarded. Further increasing this cutoff, the image would become more abstract, and in the end only one solid background will be left.</p><p class="css-1ftn47p">It is important to note that this background color is not the mean pixel color of the image, but is the average color of the largest cluster, which conceptually is the ‘base tone’ of the given image.</p><div><img alt="Left: low fidelity; Right: high fidelity" style="display:block;margin-left:auto;margin-right:auto;max-width:100%" src="/public/visionmagic/simplification-fidelity.png"/><h4 style="text-align:center">Left: low fidelity; Right: high fidelity</h4></div><h3 id="color-levels"><a href="#color-levels" class="css-1r0pe6c">Color Levels</a></h3><p class="css-1ftn47p">More color levels mean finer gradient. Color levels set to 256 means utilizing the full color precision of RGB888. Setting color levels to 32 meaning a cluster has to have at least a color difference of 8 in order to be considered a separate cluster with the cluster on the upper level. In effect, tuning down the color levels would create a retro 8-bit color look. While the number of colors in the palette is limited, the colors are still 24-bit and thus are faithful to the original image.</p><div><img alt="Left: less color levels; Right: more color levels" style="display:block;margin-left:auto;margin-right:auto;max-width:100%" src="/public/visionmagic/simplification-color-levels.png"/><h4 style="text-align:center">Left: less color levels; Right: more color levels</h4></div><h2 id="segmentation"><a href="#segmentation" class="css-1r0pe6c">Segmentation</a></h2><p class="css-1ftn47p"><a href="//docs.rs/visionmagic/latest/visionmagic/segmentation" class="css-1iv9jyz">Segmentation</a> follows stage 3 of the algorithm. Similar clusters are grouped together by the <a href="//docs.rs/visioncortex/latest/visioncortex/disjoint_sets" class="css-1iv9jyz">disjoint sets</a> algorithm, where each set of the result represents a solid color patch. For each cluster, its neighbours are being considered. If the color difference is smaller than a defined deviation, they will be put into the same union. To prevent grouping too greedily, after the first union, subsequent union would require stricter thresholds. To output segmentation result, each set would be rendered by the average color of all its constituting clusters.</p><p class="css-1ftn47p">After this stage, there would still be unwanted patches in the output. The output would further be re-clustered by Stage 1 to 3 described before, and an <a href="//docs.rs/visionmagic/latest/visionmagic/aggregation" class="css-1iv9jyz">aggregation</a> pass be applied afterwards. It would prune away smaller patches by merging into the closest (in terms of color) cluster if deviation would allow.</p><p class="css-1ftn47p">Finally, to output result, each aggregate would be rendered by its original cluster color.</p><div><img alt="Left: original; Mid: initial segmentation; Right: after aggregation" style="display:block;margin-left:auto;margin-right:auto;max-width:100%" src="/public/visionmagic/segmentation-aggregation.png"/><h4 style="text-align:center">Left: original; Mid: initial segmentation; Right: after aggregation</h4></div><h2 id="the-implementation"><a href="#the-implementation" class="css-1r0pe6c">The Implementation</a></h2><p class="css-1ftn47p">The described algorithms are implemented as reusable components under <a href="//github.com/visioncortex/visionmagic" class="css-1iv9jyz">VisionMagic</a>. Together with a processing pipeline, they are designed to support real-time and interactive applications. Users can easily organize processing stages and add additional processing passes as needed.</p><p class="css-1ftn47p">The <a href="//docs.rs/visionmagic/latest/visionmagic/trait.Processor.html" class="css-1iv9jyz"><style data-emotion-css="ueqitl">.css-ueqitl{font-family:Inconsolata;}</style><code class="css-ueqitl">Processor</code></a> trait is the interface that future additions of algorithms will conform to. It also allows us to support video streaming applications in the future.</p><h2 id="impressionism"><a href="#impressionism" class="css-1r0pe6c">Impressionism</a></h2><p class="css-1ftn47p">The above methodology is designed to imitate visual perception in humans. It is thus no surprising that resulting images exhibit characteristics similar to paintings drawn by Artists. As the name suggests, it is heavy inspired by a painting technique that we called ‘Impressionism’ for the meaning it convey during a brief period of art history.</p><div><style data-emotion-css="1h0sj8d">.css-1h0sj8d{padding:16px;margin:0;margin-bottom:32px;font-size:85%;margin-top:32px;text-align:left;font-family:Inconsolata;border-radius:4px;}.css-1h0sj8d dark{[object Object];}.css-1h0sj8d light{[object Object];}</style><pre class=" prism-code language-text css-1h0sj8d" style="font-family:Inconsolata;color:#393A34;background-color:#f6f8fa;overflow-x:auto" data-testid="code"><div class="token-line" style="font-family:Inconsolata;color:#393A34"><style data-emotion-css="1baulvz">.css-1baulvz{display:inline-block;}</style><span class="token plain css-1baulvz">Simplification Parameters: Shape Details  = 27983, Fidelity = 51256, Color Levels = 16</span></div><div class="token-line" style="font-family:Inconsolata;color:#393A34"><span class="token plain css-1baulvz">Photoshop ‘Oil Paint’ filter: Stylization = 0.1, Cleanliness = 10.0, Scale = 0.1, Bristle Detail = 6.5, Light = -60, Shine = 1.0</span></div></pre></div><div><img alt="Left: Artwork generated by Impression; Right: Water Lilies Painting by Claude Monet" style="display:block;margin-left:auto;margin-right:auto;max-width:100%" src="/public/visionmagic/visionmagic-impressionism.png"/><h4 style="text-align:center">Left: Artwork generated by Impression; Right: Water Lilies Painting by Claude Monet</h4></div><h3 id="photo-credits"><a href="#photo-credits" class="css-1r0pe6c">Photo Credits</a></h3><span><p class="css-1ftn47p">Building photo by <a href="https://unsplash.com/@hernanlucio?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="css-1iv9jyz">Hernan Lucio</a> on <a href="https://unsplash.com/photos/gJFvHkUHdSI" class="css-1iv9jyz">Unsplash</a></p></span><span><p class="css-1ftn47p">Dog photo by <a href="https://unsplash.com/@elijah_ekdahl?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="css-1iv9jyz">Elijah Ekdahl</a> on <a href="https://unsplash.com/photos/nt69AC1bSdg" class="css-1iv9jyz">Unsplash</a></p></span><span><p class="css-1ftn47p">Cityscape photo by <a href="https://unsplash.com/@mkd_ie?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="css-1iv9jyz">Mark Denton</a> on <a href="https://unsplash.com/photos/XH3_OXU3lMk" class="css-1iv9jyz">Unsplash</a></p></span><span><p class="css-1ftn47p">Landscape photo by <a href="https://unsplash.com/@lucabravo?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="css-1iv9jyz">Luca Bravo</a> on <a href="https://unsplash.com/photos/zAjdgNXsMeg" class="css-1iv9jyz">Unsplash</a></p></span><span><p class="css-1ftn47p">Parrot photo by <a href="https://unsplash.com/@sanvedbangale23?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="css-1iv9jyz">Sanved Bangale</a> on <a href="https://unsplash.com/photos/oSj50kWaU6E" class="css-1iv9jyz">Unsplash</a></p></span><span><p class="css-1ftn47p">Water lily photo by <a href="https://unsplash.com/@ravinepz?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="css-1iv9jyz">Ravi Sharma</a> on <a href="https://unsplash.com/photos/gfP_Cz0MaFs" class="css-1iv9jyz">Unsplash</a></p></span></div></div></main></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/impression-docs";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-12b334af0ca7496d7f19.js"],"app":["/app-c7673cccdcda4c07b220.js"],"component---src-impression-mdx":["/component---src-impression-mdx-7396b5c988c84a072add.js"],"component---src-index-mdx":["/component---src-index-mdx-0934d2e2f2b0fd64a218.js"],"component---src-pages-404-js":["/component---src-pages-404-js-9c134c3c1761f19419a4.js"],"component---src-reversi-mdx":["/component---src-reversi-mdx-891984c4e973d2621598.js"],"component---src-shapesense-mdx":["/component---src-shapesense-mdx-a28963d66c7dc0995df0.js"],"component---src-symcode-mdx":["/component---src-symcode-mdx-4c86476283db67665ee4.js"],"component---src-vtracer-mdx":["/component---src-vtracer-mdx-0593babbb68bc0de1d9d.js"]};/*]]>*/</script><script src="/polyfill-12b334af0ca7496d7f19.js" nomodule=""></script><script src="/component---src-impression-mdx-7396b5c988c84a072add.js" async=""></script><script src="/c5b55e2f8b53e5f5ce74c9de3c70a46d4d065a47-cc82b785e04af3879186.js" async=""></script><script src="/798c9f31-55401554f16c5ec017b9.js" async=""></script><script src="/app-c7673cccdcda4c07b220.js" async=""></script><script src="/framework-34df0b3f72b72d7c6b1a.js" async=""></script><script src="/styles-83801f3b4dd3459a4027.js" async=""></script><script src="/webpack-runtime-ed686ae4d7040c59007b.js" async=""></script></body></html>